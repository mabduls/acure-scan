<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#27374D" />
    <title>Care Acne Application</title>
    <link rel="apple-touch-icon" href="favicon.png" />
    <link rel="shortcut icon" href="favicon.png" />
</head>

<body>
    <main id="mainContent" class="min-h-screen"></main>
    <!-- File JS akan di-inject oleh webpack -->
    <script>
        // Comprehensive SPA handler for GitHub Pages
        (function () {
            console.log('SPA Handler initialized');
            console.log('Location:', window.location.href);

            const repoName = 'acure-scan';
            const basePath = '/' + repoName + '/';
            const expectedPath = basePath + 'index.html';

            // PERBAIKAN: Redirect jika di root domain tanpa path
            if (window.location.pathname === '/' && window.location.hostname.includes('github.io')) {
                console.log('Redirecting from root to base path');
                window.location.href = window.location.origin + expectedPath;
                return;
            }

            // PERBAIKAN: Redirect jika path tidak benar
            if (window.location.pathname !== basePath &&
                window.location.pathname !== expectedPath &&
                !window.location.pathname.includes('index.html')) {
                console.log('Correcting path:', window.location.pathname, 'â†’', expectedPath);
                window.location.href = window.location.origin + expectedPath + window.location.hash;
                return;
            }

            // Handle hash routing untuk SPA
            if (window.location.hash) {
                console.log('Hash detected:', window.location.hash);
                // Biarkan router yang menangani hash
            }
        })();
    </script>
</body>

</html>